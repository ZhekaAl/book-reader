(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,n){},102:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(23),i=n.n(r),c=n(12),l=n(13),s=n(16),u=n(14),d=n(15),p=n(105),f=n(103),h=n(104),b=n(3),m=n(17),k=n.n(m),g="https://english-book-reader.herokuapp.com",O=n(7),v=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(s.a)(this,Object(u.a)(e).call(this))).state={output:"",input:"",currentPage:1,modalIsOpen:!1},t.translate=t.translate.bind(Object(b.a)(Object(b.a)(t))),t.findWord=t.findWord.bind(Object(b.a)(Object(b.a)(t))),t.first=t.first.bind(Object(b.a)(Object(b.a)(t))),t.select=t.select.bind(Object(b.a)(Object(b.a)(t))),t.handleHideModal=t.handleHideModal.bind(Object(b.a)(Object(b.a)(t))),t.openModal=t.openModal.bind(Object(b.a)(Object(b.a)(t))),t.closeModal=t.closeModal.bind(Object(b.a)(Object(b.a)(t))),t.modalTriggerButton=o.a.createRef(),t.clickButton=t.clickButton.bind(Object(b.a)(Object(b.a)(t))),t}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){console.log("props=",this.props);var t=this.props.match.params.file;console.log("filename=",t),this.openBook(t)}},{key:"clickButton",value:function(){console.log("shsrh"),this.modalTriggerButton.current.props.onClick()}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.clickButton()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"handleHideModal",value:function(){this.setState(function(t){return{openModal:!1}})}},{key:"first",value:function(){console.log("first"),this.setState(function(t){return{currentPage:1}})}},{key:"select",value:function(t){this.setState(function(e){return{currentPage:t}})}},{key:"translate",value:function(t,e){var n=this;k.a.get(g+"/api/get-translate/"+t).then(function(t){var e=t.data.data;n.setState({output:e}),n.openModal()}).catch(function(t){return console.log(t)})}},{key:"openPdf",value:function(t){var e=this;k.a.get("http://localhost:3001/api/get-book_pdf").then(function(t){var n=t.data;console.log("resp",n),e.setState({input:n.data})})}},{key:"openBook",value:function(t){var e=this;k.a.get(g+"/api/get-book/"+t).then(function(t){var n=t.data;console.log("resp",n),e.setState({input:n.data}),e.first()})}},{key:"findWord",value:function(t){t.preventDefault();for(var e=window.getSelection(),n=e.getRangeAt(0),a=e.anchorNode;0!==n.toString().indexOf(" ");)n.setStart(a,n.startOffset-1);n.setStart(a,n.startOffset+1);do{n.setEnd(a,n.endOffset+1)}while(-1===n.toString().indexOf(" ")&&""!==n.toString().trim()&&n.endOffset<a.length);var o=n.toString().trim();this.translate(o,"ru")}},{key:"render",value:function(){var t=this,e=this.state.currentPage;return o.a.createElement("div",{className:"TranslateForm"},o.a.createElement("div",{onClick:this.findWord},this.state.input.slice(2e3*(e-1),2e3*e)),o.a.createElement(O.Modal,{trigger:o.a.createElement(O.Button,{style:{display:"none"},ref:this.modalTriggerButton},"MODAL"," ")},this.state.output),o.a.createElement(O.Pagination,{items:this.state.input.length,activePage:this.state.currentPage,maxButtons:8,onSelect:function(e){console.log("select",e),t.select(e)}}))}}]),e}(a.Component),j=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(s.a)(this,Object(u.a)(e).call(this))).state={bookList:[]},t.openBookList=t.openBookList.bind(Object(b.a)(Object(b.a)(t))),t.openBookList(),t}return Object(d.a)(e,t),Object(l.a)(e,[{key:"openBookList",value:function(){var t=this;k.a.get(g+"/api/get-listBooks").then(function(e){var n=e.data;console.log("resp",n),t.setState({bookList:n.data})})}},{key:"renderItem2",value:function(t){var e="/book/"+t;return o.a.createElement(O.CollectionItem,{key:t,href:e},o.a.createElement(f.a,{to:e},t))}},{key:"renderItem",value:function(t){return o.a.createElement("p",{key:t},o.a.createElement(f.a,{to:{pathname:"/book/"+t}},t))}},{key:"render",value:function(){return o.a.createElement(O.Collection,null,this.state.bookList.map(this.renderItem2))}}]),e}(a.Component),y=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement(p.a,{basename:"/book-reader"},o.a.createElement("div",null,o.a.createElement(O.Navbar,{left:!0},o.a.createElement(O.NavItem,null,o.a.createElement(f.a,{to:"/"},"Home")),o.a.createElement(O.NavItem,null,o.a.createElement(f.a,{to:"/topics"},"Books"))),o.a.createElement(h.a,{exact:!0,path:"/book/:file",component:v}),o.a.createElement(h.a,{path:"/topics",component:j})))}}]),e}(a.Component);n(100);i.a.render(o.a.createElement(y,null),document.getElementById("root"))},34:function(t,e,n){t.exports=n(102)}},[[34,2,1]]]);
//# sourceMappingURL=main.24996eb8.chunk.js.map