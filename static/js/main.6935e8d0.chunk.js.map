{"version":3,"sources":["components/Book.js","config.js","components/ListBook.js","App.js","index.js"],"names":["voice","serverPath","window","speechSynthesis","onvoiceschanged","voices","getVoices","filter","el","lang","includes","console","log","Book","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","sayText","str","length","synth","speaking","error","utterThis","SpeechSynthesisUtterance","onend","event","onerror","pitch","rate","speak","state","filename","wordInput","output","input","chaptersTexts","chaptersTitles","currentPage","currentChapter","modalIsOpen","translate","bind","assertThisInitialized","findWord","first","selectChapter","openModal","closeModal","modalTriggerButton","React","createRef","clickButton","match","params","file","onHandleBookChanged","chpt","setState","openBook","current","onClick","i","onCurrentChapterChanged","scrollTo","textToTranslate","language","_this2","axios","get","then","response","data","catch","that","texts","resp","split","splice","preventDefault","s","getSelection","range","getRangeAt","node","anchorNode","toString","indexOf","setStart","startOffset","setEnd","endOffset","trim","refs","audio","pause","load","_this3","text","replace","text2HTML","react_default","a","createElement","className","lib","items","activePage","maxButtons","onSelect","e","ReactHtmlParser","trigger","style","display","ref","controls","name","src","type","Component","ListBook","openBooksInfo","JSON","parse","booksInfo","renderCard","oneBookInfo","header","image","waves","title","reveal","description","author","Link","to","pathname","renderCardRevial","m","key","horizontal","actions","genre","class","renderCardHtml","alt","level","bookList","openBookList","item","map","localStorage","require","App","_fileName","getItem","_chapter","parseInt","chapter","fileName","handleBookChanged","handleChapterChanged","setItem","BrowserRouter","basename","process","left","Route","exact","path","render","components_ListBook","assign","Book_Book","ReactDOM","src_App","document","getElementById"],"mappings":"+IAUIA,8HCFSC,EAHO,oEDOpBC,OAAOC,gBAAgBC,gBAAkB,WACxB,mBACf,IAAIC,EAASH,OAAOC,gBAAgBG,YASpCN,EAAQK,EAAOE,OAAO,SAAAC,GAAE,OAAIA,EAAGC,KAAKC,SAAS,WAAU,GACvDC,QAAQC,IAAIZ,QAsBOa,cACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAkJRQ,QAAU,SAAAC,GACR,GAAmB,IAAfA,EAAIC,OAAR,CACA,IAAIC,EAAQvB,OAAOC,gBAEnB,GAAIsB,EAAMC,SACRf,QAAQgB,MAAM,gCADhB,CAKA,IAAIC,EAAY,IAAIC,yBAAyBN,GAC7CK,EAAUE,MAAQ,SAASC,GACzBpB,QAAQC,IAAI,mCAEdgB,EAAUI,QAAU,SAASD,GAC3BpB,QAAQgB,MAAM,qCAKhBC,EAAU5B,MAAQA,EAClB4B,EAAUK,MAAQ,EAClBL,EAAUM,KAAO,EACjBT,EAAMU,MAAMP,MAvKZb,EAAKqB,MAAQ,CACXC,SAAU,GACVC,UAAW,GACXC,OAAQ,GACRC,MAAO,GACPC,cAAe,CAAC,KAChBC,eAAgB,GAChBC,YAAa,EACbC,eAAgB,EAChBC,aAAa,GAEf9B,EAAKyB,MAAQ,GACbzB,EAAK+B,UAAY/B,EAAK+B,UAAUC,KAAf/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KACjBA,EAAKkC,SAAWlC,EAAKkC,SAASF,KAAd/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KAChBA,EAAKmC,MAAQnC,EAAKmC,MAAMH,KAAX/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KAEbA,EAAKoC,cAAgBpC,EAAKoC,cAAcJ,KAAnB/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KAGrBA,EAAKqC,UAAYrC,EAAKqC,UAAUL,KAAf/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KACjBA,EAAKsC,WAAatC,EAAKsC,WAAWN,KAAhB/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KAElBA,EAAKuC,mBAAqBC,IAAMC,YAChCzC,EAAK0C,YAAc1C,EAAK0C,YAAYV,KAAjB/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KAEnBJ,QAAQC,IAAI,kBA3BKG,mFA+BjBJ,QAAQC,IAAI,0BAGZD,QAAQC,IAAI,SAAUM,KAAKJ,OAE3B,IAAIuB,EAAWnB,KAAKJ,MAAM4C,MAAMC,OAAOC,KACvCjD,QAAQC,IAAI,YAAayB,GAEF,oBAAZA,GACTnB,KAAKJ,MAAM+C,oBAAoBxB,GAGjC,IAAIyB,EAAO5C,KAAKJ,MAAM8B,eACH,oBAARkB,GACT5C,KAAK6C,SAAS,CAAEnB,eAAgBkB,IAKlC5C,KAAK8C,SAAS3B,yCAId1B,QAAQC,IAAI,SACZM,KAAKoC,mBAAmBW,QAAQnD,MAAMoD,8CAItChD,KAAK6C,SAAS,CAAElB,aAAa,IAC7B3B,KAAKuC,mDAILvC,KAAK6C,SAAS,CAAElB,aAAa,oCAI7BlC,QAAQC,IAAI,SACZM,KAAK6C,SAAS,SAAA3B,GACZ,MAAO,CACLQ,eAAgB,2CAaRuB,GACZjD,KAAKJ,MAAMsD,wBAAwBD,GACnCjD,KAAK6C,SAAS,SAAA3B,GACZ,MAAO,CACLQ,eAAgBuB,KAGpBjE,OAAOmE,SAAS,EAAG,qCAGXC,EAAiBC,GAAU,IAAAC,EAAAtD,KACnCuD,IACGC,IAAIzE,EAAa,sBAAwBqE,GACzCK,KAAK,SAAAC,GACJ,IAAIrC,EAASqC,EAASC,KAAKA,KAC3BL,EAAKT,SAAS,CAAExB,WAChBiC,EAAKpB,cAEN0B,MAAM,SAAAnD,GAAK,OAAIhB,QAAQC,IAAIe,sCAgBvBU,GACP,IAAI0C,EAAO7D,KAEXuD,IACGC,IAAIzE,EAAa,iBAAmBoC,GACpCsC,KAAK,SAASC,GACb,IAEII,EAFAC,EAAOL,EAASC,KAGhBxC,EAAS3B,SAAS,SACpBsE,EAAQC,EAAKJ,KAAKnB,MAAM,wBAExBsB,EAAQC,EAAKJ,KAAKK,MAAM,+BAClBC,OAAO,EAAG,GAGlBJ,EAAKhB,SAAS,CACZvB,MAAOyC,EAAKJ,KACZnC,eAAgBuC,EAAKJ,KAAKnB,MAAM,8BAChCjB,cAAeuC,uCAmCdjD,GACPA,EAAMqD,iBAIN,IAHA,IAAIC,EAAInF,OAAOoF,eACXC,EAAQF,EAAEG,WAAW,GACrBC,EAAOJ,EAAEK,WAC4B,IAAlCH,EAAMI,WAAWC,QAAQ,MAC9BL,EAAMM,SAASJ,EAAMF,EAAMO,YAAc,GAE3CP,EAAMM,SAASJ,EAAMF,EAAMO,YAAc,GACzC,GACEP,EAAMQ,OAAON,EAAMF,EAAMS,UAAY,UAEF,IAAnCT,EAAMI,WAAWC,QAAQ,MACG,KAA5BL,EAAMI,WAAWM,QACjBV,EAAMS,UAAYP,EAAKjE,QAEzB,IAAID,EAAMgE,EAAMI,WAAWM,OAC3B/E,KAAKsB,MAAQjB,EACbL,KAAK6C,SAAS,CAAEzB,UAAWf,GAAO,WAChCL,KAAKgF,KAAKC,MAAMC,QAChBlF,KAAKgF,KAAKC,MAAME,SAOlBnF,KAAK4B,UAAUvB,EADA,uCAIR,IAAA+E,EAAApF,KACPP,QAAQC,IAAI,cAAeM,KAAKkB,MAAMC,SAAUnB,KAAKkB,MAAMQ,gBAC3D,IAAMA,EAAiB1B,KAAKkB,MAAMQ,eAC9B2D,EAAO,GAKX,OAJIrF,KAAKkB,MAAMK,cAAcjB,OAASoB,EAAiB,IACrD2D,EAnON,SAAmBA,GAgBjB,OAFAA,EAAO,OAHPA,GAHAA,GANAA,EAAOA,EACJC,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,SAGLA,QAAQ,YAAa,SAGrBA,QAAQ,eAAgB,YAGd,OAqNXC,CAAUvF,KAAKkB,MAAMK,cAAcG,EAAiB,KAI3D8D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAEXH,EAAAC,EAAAC,cAACE,EAAA,WAAD,CACEC,MAAO7F,KAAKkB,MAAMK,cAAcjB,OAChCwF,WAAYpE,EACZqE,WAAY,EACZC,SAAU,SAAAC,GACRxG,QAAQC,IAAI,WAAYuG,GACxBb,EAAKnD,cAAcgE,MAIzBT,EAAAC,EAAAC,cAAA,OAAK1C,QAAShD,KAAK+B,UAGjBmE,IAAgBb,IAGlBG,EAAAC,EAAAC,cAACE,EAAA,MAAD,CACEO,QACEX,EAAAC,EAAAC,cAACE,EAAA,OAAD,CAAQQ,MAAO,CAAEC,QAAS,QAAUC,IAAKtG,KAAKoC,oBAA9C,QACQ,MAIVoD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,cAAM1F,KAAKkB,MAAMG,SAEnBmE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAK1F,KAAKkB,MAAME,YAElBoE,EAAAC,EAAAC,cAAA,UASAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOa,UAAQ,EAACC,KAAK,QAAQF,IAAI,QAAQX,UAAU,cACjDH,EAAAC,EAAAC,cAAA,UACEe,IAEEzG,KAAKkB,MAAME,UAAUd,OAAS,EAC1BvB,EAAa,mBAAqBiB,KAAKkB,MAAME,UAC7C,GAENsF,KAAK,kBAmBXlB,EAAAC,EAAAC,cAACE,EAAA,WAAD,CACEC,MAAO7F,KAAKkB,MAAMK,cAAcjB,OAChCwF,WAAYpE,EACZqE,WAAY,EACZC,SAAU,SAAAC,GACRxG,QAAQC,IAAI,WAAYuG,GACxBb,EAAKnD,cAAcgE,cA9RCU,aEkJnBC,cAnLb,SAAAA,IAAc,IAAA/G,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4G,IACZ/G,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8G,GAAAzG,KAAAH,QAuBF6G,cAAgB,WACd,IAAIhD,EAAI/D,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,IAER0D,IAAMC,IAAIzE,EAAa,sBAAsB0E,KAAK,SAASC,GACzD,IAAIK,EAAO+C,KAAKC,MAAMrD,EAASC,KAAKA,MAEpClE,QAAQC,IAAI,gBAAiBqE,GAC7BF,EAAKhB,SAAS,CACZmE,UAAWjD,OAhCHlE,EAiEdoH,WAAa,SAAAC,GACX,OACE1B,EAAAC,EAAAC,cAACE,EAAA,KAAD,CACEuB,OACE3B,EAAAC,EAAAC,cAACE,EAAA,UAAD,CACEwB,MAAOrI,EAAa,WAAamI,EAAYxE,KAC7C2E,MAAM,UAGVC,MAAOJ,EAAYI,MACnBC,OAAQ/B,EAAAC,EAAAC,cAAA,SAAIwB,EAAYM,cAExBhC,EAAAC,EAAAC,cAAA,mBAAWwB,EAAYO,QACvBjC,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CACEC,GAAI,CACFC,SAAU,SAAWV,EAAYxE,OAFrC,gBA/EM7C,EA0FdgI,iBAAmB,SAAAX,GACjB,OACE1B,EAAAC,EAAAC,cAACE,EAAA,IAAD,CAAKkC,EAAG,EAAG3D,EAAG,GAAI4D,IAAKb,EAAYI,OACjC9B,EAAAC,EAAAC,cAACE,EAAA,KAAD,CACE0B,MAAOJ,EAAYI,MACnBU,YAAU,EACVb,OACE3B,EAAAC,EAAAC,cAACE,EAAA,UAAD,CACE2B,QAAM,EACNH,MAAOrI,EAAa,WAAamI,EAAYxE,OAGjDuF,QAAS,CACPzC,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CACEC,GAAI,CACFC,SAAU,SAAWV,EAAYxE,OAFrC,cAQF6E,OAAQ/B,EAAAC,EAAAC,cAAA,SAAIwB,EAAYM,cAExBhC,EAAAC,EAAAC,cAAA,mBAAWwB,EAAYO,QACvBjC,EAAAC,EAAAC,cAAA,mBAAWwB,EAAYgB,OACvB1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,cACAH,EAAAC,EAAAC,cAAA,QAAMyC,MAAM,gDAAZ,aACY3C,EAAAC,EAAAC,cAAA,KAAGyC,MAAM,wBAAT,iBArHNtI,EA4HduI,eAAiB,SAAAlB,GACf,OACE1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBoC,IAAKb,EAAYxE,MAClD8C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,YACVc,IAAK1H,EAAa,WAAamI,EAAYxE,KAC3C2F,IAAI,MAGR7C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gDACbuB,EAAYI,MACb9B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAAb,cAEFH,EAAAC,EAAAC,cAAA,oBAAYwB,EAAYO,QACxBjC,EAAAC,EAAAC,cAAA,mBAAWwB,EAAYgB,OACvB1C,EAAAC,EAAAC,cAAA,mBAAWwB,EAAYoB,OACvB9C,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CACEC,GAAI,CACFC,SAAU,SAAWV,EAAYxE,OAFrC,eASJ8C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sCACbuB,EAAYI,MACb9B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAAb,UAEFH,EAAAC,EAAAC,cAAA,SAAIwB,EAAYM,gBA3JtB3H,EAAKqB,MAAQ,CACXqH,SAAU,GACVvB,UAAW,IAEbnH,EAAK2I,aAAe3I,EAAK2I,aAAa3G,KAAlB/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KAEpBJ,QAAQC,IAAI,sBAEZG,EAAKgH,gBAVOhH,8EAaZ,IAAIgE,EAAO7D,KAEXuD,IAAMC,IAAIzE,EAAa,sBAAsB0E,KAAK,SAASC,GACzD,IAAIK,EAAOL,EAASC,KACpBlE,QAAQC,IAAI,gBAAiBqE,GAC7BF,EAAKhB,SAAS,CACZ0F,SAAUxE,EAAKJ,6CAmBT8E,GAEV,IAAMb,EAAW,SAAWa,EAC5B,OACEjD,EAAAC,EAAAC,cAACE,EAAA,eAAD,CAAgBmC,IAAKU,GACnBjD,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CAAMC,GAAIC,GAAWa,uCAKhBA,GACT,OACEjD,EAAAC,EAAAC,cAAA,KAAGqC,IAAKU,GACNjD,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CACEC,GAAI,CACFC,SAAU,SAAWa,IAMtBA,qCA8GP,OALAhJ,QAAQC,IAAI,mBAKRM,KAAKkB,MAAM8F,UAAU1G,OAAS,EAE9BkF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACZ3F,KAAKkB,MAAM8F,UAAU0B,IAAI1I,KAAKoI,iBAGzB5C,EAAAC,EAAAC,cAAA,+BAhLOiB,aCNnBgC,EAAeC,EAAQ,KAqIZC,cAhIb,SAAAA,IAAc,IAAAhJ,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6I,GACZhJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+I,GAAA1I,KAAAH,OAEA,IAAI8I,EAAYH,EAAaI,QAAQ,YACnB,OAAdD,IAAoBA,EAAY,IAEpC,IAAIE,EAAWL,EAAaI,QAAQ,WANxB,OAOWC,EAAN,OAAbA,EAA8B,EAClBC,SAASD,GAEzBvJ,QAAQC,IAAI,mBAAoBoJ,EAAWE,GAC3CnJ,EAAKqJ,QAAUF,EACfnJ,EAAKqB,MAAQ,CACXiI,SAAUL,GAEZrJ,QAAQC,IAAI,mBAEZG,EAAKuJ,kBAAoBvJ,EAAKuJ,kBAAkBvH,KAAvB/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KACzBA,EAAKwJ,qBAAuBxJ,EAAKwJ,qBAAqBxH,KAA1B/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAAD,KAlBhBA,mFAwBZJ,QAAQC,IAAI,sEAmCOsJ,GACnBhJ,KAAKkJ,QAAUF,EACfL,EAAaW,QAAQ,UAAWtJ,KAAKkJ,mDAGrBJ,GAChBH,EAAaW,QAAQ,WAAYR,GACjCrJ,QAAQC,IAAI,iCAAkCoJ,GAE1C9I,KAAKkB,MAAMiI,WAAaL,IAC1B9I,KAAK6C,SAAS,CAAEsG,SAAUL,IAC1B9I,KAAKkJ,QAAU,EACfP,EAAaW,QAAQ,UAAW,qCAI3B,IAAAhG,EAAAtD,KAEP,OADAP,QAAQC,IAAI,cAEV8F,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CAAQC,SAAUC,gBAChBjE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACE,EAAA,OAAD,CAAQ8D,MAAI,GACVlE,EAAAC,EAAAC,cAACE,EAAA,QAAD,KACEJ,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CAAMC,GAAG,KAAT,UAEFnC,EAAAC,EAAAC,cAACE,EAAA,QAAD,KACEJ,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CACEC,GAAI,CACFC,SAAU,SAAW5H,KAAKkB,MAAMiI,WAMjCnJ,KAAKkB,MAAMiI,YAKlB3D,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,IACLC,OAAQ,SAAAlK,GAAK,OACX4F,EAAAC,EAAAC,cAACqE,EAADjK,OAAAkK,OAAA,GACMpK,EADN,CAEE+C,oBAAqBW,EAAK8F,wBAIhC5D,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,cACLC,OAAQ,SAAAlK,GAAK,OACX4F,EAAAC,EAAAC,cAACuE,EAADnK,OAAAkK,OAAA,GACMpK,EADN,CAEEsD,wBAAyBI,EAAK+F,qBAC9B1G,oBAAqBW,EAAK8F,kBAC1B1H,eAAgB4B,EAAK4F,cAK3B1D,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAOE,KAAK,qBA1HJlD,oBCLlBuD,IAASJ,OAAOtE,EAAAC,EAAAC,cAACyE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.6935e8d0.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { serverPath } from \"../config.js\";\nimport { Pagination, Modal, Button } from \"react-materialize\";\n\nimport ReactHtmlParser from \"react-html-parser\";\n\n//const page_size = 2000;\n\n// wait on voices to be loaded before fetching list\nvar voice;\nvar stringVoices = \"noVoices\";\nwindow.speechSynthesis.onvoiceschanged = function() {\n  stringVoices = \"onvoiceschanged\";\n  var voices = window.speechSynthesis.getVoices();\n\n  // for (var i = 0; i < voices.length; i++) {\n  //  stringVoices.push(\"voices[i].lang\");\n  // }\n\n  // voices.map(el => stringVoices.concat(el.lang));\n  // console.log(\"onvoiceschanged\", voices);\n\n  voice = voices.filter(el => el.lang.includes(\"en-US\"))[0];\n  console.log(voice);\n};\n\nfunction text2HTML(text) {\n  // 1: Plain Text Search\n  text = text\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\");\n\n  // 2: Line Breaks\n  text = text.replace(/\\r\\n?|\\n/g, \"<br>\");\n\n  // 3: Paragraphs\n  text = text.replace(/<br>\\s*<br>/g, \"</p><p>\");\n\n  // 4: Wrap in Paragraph Tags\n  text = \"<p>\" + text + \"</p>\";\n\n  return text;\n}\n\nexport default class Book extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filename: \"\",\n      wordInput: \"\",\n      output: \"\",\n      input: \"\",\n      chaptersTexts: [\"q\"],\n      chaptersTitles: [],\n      currentPage: 1,\n      currentChapter: 1,\n      modalIsOpen: false\n    };\n    this.input = \"\";\n    this.translate = this.translate.bind(this);\n    this.findWord = this.findWord.bind(this);\n    this.first = this.first.bind(this);\n    // this.select = this.select.bind(this);\n    this.selectChapter = this.selectChapter.bind(this);\n    //this.handleHideModal = this.handleHideModal.bind(this);\n\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n\n    this.modalTriggerButton = React.createRef();\n    this.clickButton = this.clickButton.bind(this);\n\n    console.log(\"Book construct\");\n  }\n\n  componentDidMount() {\n    console.log(\"Book componentDidMount\");\n    // Modal.setAppElement(\"#root\");\n    // Modal.setAppElement(\"#root\");\n    console.log(\"props=\", this.props);\n\n    let filename = this.props.match.params.file;\n    console.log(\"filename=\", filename);\n\n    if (typeof filename != \"undefined\") {\n      this.props.onHandleBookChanged(filename);\n    }\n\n    let chpt = this.props.currentChapter;\n    if (typeof chpt != \"undefined\") {\n      this.setState({ currentChapter: chpt });\n    }\n\n    // if (filename === \"\") filename = this.props.filename;\n\n    this.openBook(filename);\n  }\n\n  clickButton() {\n    console.log(\"shsrh\");\n    this.modalTriggerButton.current.props.onClick();\n  }\n\n  openModal() {\n    this.setState({ modalIsOpen: true });\n    this.clickButton();\n  }\n\n  closeModal() {\n    this.setState({ modalIsOpen: false });\n  }\n\n  first() {\n    console.log(\"first\");\n    this.setState(state => {\n      return {\n        currentChapter: 1\n      };\n    });\n  }\n\n  /*select(i) {\n    this.setState(state => {\n      return {\n        currentPage: i\n      };\n    });\n  }*/\n\n  selectChapter(i) {\n    this.props.onCurrentChapterChanged(i);\n    this.setState(state => {\n      return {\n        currentChapter: i\n      };\n    });\n    window.scrollTo(0, 0);\n  }\n\n  translate(textToTranslate, language) {\n    axios\n      .get(serverPath + \"/api/get-translate/\" + textToTranslate)\n      .then(response => {\n        var output = response.data.data;\n        this.setState({ output });\n        this.openModal();\n      })\n      .catch(error => console.log(error));\n  }\n\n  /*openPdf(filename) {\n    var that = this;\n    axios\n      .get(\"http://localhost:3001/api/get-book_pdf\")\n      .then(function(response) {\n        let resp = response.data;\n        console.log(\"resp\", resp);\n        that.setState({\n          input: resp.data\n        });\n      });\n  }*/\n\n  openBook(filename) {\n    var that = this;\n    // axios.get(\"http://localhost:3001/api/get-book1\").then(function(response) {\n    axios\n      .get(serverPath + \"/api/get-book/\" + filename)\n      .then(function(response) {\n        let resp = response.data;\n        // console.log(\"resp\", resp);\n        let texts;\n        if (filename.includes(\"real_\")) {\n          texts = resp.data.match(/(.|[\\r\\n]){1,5000}/g);\n        } else {\n          texts = resp.data.split(/CHAPTER\\s\\w*|Chapter\\s\\w*/g);\n          texts.splice(0, 1);\n        }\n\n        that.setState({\n          input: resp.data,\n          chaptersTitles: resp.data.match(/CHAPTER\\s\\w*|Chapter\\s\\w*/g),\n          chaptersTexts: texts\n          // .splice(0, 1) //remove first \\t\n        });\n        // console.log(resp.data.match(/Chapter\\s\\w*/g));\n        // that.first();\n      });\n  }\n\n  // styleChapters(data) {return  data.replace(/Chapter/, '<span style=\"color: red\">$&</span>')  }\n\n  sayText = str => {\n    if (str.length === 0) return;\n    var synth = window.speechSynthesis;\n\n    if (synth.speaking) {\n      console.error(\"speechSynthesis.speaking\");\n      return;\n    }\n\n    var utterThis = new SpeechSynthesisUtterance(str);\n    utterThis.onend = function(event) {\n      console.log(\"SpeechSynthesisUtterance.onend\");\n    };\n    utterThis.onerror = function(event) {\n      console.error(\"SpeechSynthesisUtterance.onerror\");\n    };\n\n    // voices = synth.getVoices().filter(el=>el.name.includes(\"Eng\"));\n\n    utterThis.voice = voice;\n    utterThis.pitch = 1;\n    utterThis.rate = 1;\n    synth.speak(utterThis);\n  };\n\n  findWord(event) {\n    event.preventDefault();\n    let s = window.getSelection();\n    var range = s.getRangeAt(0);\n    var node = s.anchorNode;\n    while (range.toString().indexOf(\" \") !== 0) {\n      range.setStart(node, range.startOffset - 1);\n    }\n    range.setStart(node, range.startOffset + 1);\n    do {\n      range.setEnd(node, range.endOffset + 1);\n    } while (\n      range.toString().indexOf(\" \") === -1 &&\n      range.toString().trim() !== \"\" &&\n      range.endOffset < node.length\n    );\n    var str = range.toString().trim();\n    this.input = str;\n    this.setState({ wordInput: str }, function() {\n      this.refs.audio.pause();\n      this.refs.audio.load();\n      //this.refs.audio.play();\n    });\n\n    //   alert(str);\n\n    var language = \"ru\"; // this.refs.language.value;\n    this.translate(str, language);\n  }\n\n  render() {\n    console.log(\"book render\", this.state.filename, this.state.currentChapter);\n    const currentChapter = this.state.currentChapter;\n    let text = \"\";\n    if (this.state.chaptersTexts.length > currentChapter - 1) {\n      text = text2HTML(this.state.chaptersTexts[currentChapter - 1]);\n      //console.log(currentChapter, this.state.chaptersTexts[currentChapter - 1]);\n    }\n    return (\n      <div className=\"TranslateForm\">\n        {\n          <Pagination\n            items={this.state.chaptersTexts.length}\n            activePage={currentChapter}\n            maxButtons={7}\n            onSelect={e => {\n              console.log(\"selectCh\", e);\n              this.selectChapter(e);\n            }}\n          />\n        }\n        <div onClick={this.findWord}>\n          {/*this.state.input.slice((cpg - 1) * page_size, cpg * page_size)*/\n          //    this.state.chaptersTexts[this.state.currentChapter-1].slice((cpg - 1) * page_size, cpg * page_size)\n          ReactHtmlParser(text)}\n        </div>\n\n        <Modal\n          trigger={\n            <Button style={{ display: \"none\" }} ref={this.modalTriggerButton}>\n              MODAL{\" \"}\n            </Button>\n          }\n        >\n          <div>\n            <h5> {this.state.output}</h5>\n          </div>\n          <div>\n            <h6>{this.state.wordInput}</h6>\n          </div>\n          <p />\n          {/*<div>{voice !== undefined ? voice.lang : \"\"}</div>\n          <div>{stringVoices}</div>*/}\n          {/* <div\n            className=\"btn-floating waves-effect waves-light red accent-1\"\n            onClick={() => this.sayText(this.state.wordInput)}\n          >\n            <i className=\"material-icons\">play_circle_outline</i>\n          </div>*/}\n          <div>\n            <audio controls name=\"media\" ref=\"audio\" className=\"ModalAudio\">\n              <source\n                src={\n                  //\"./../output.mp3\"\n                  this.state.wordInput.length > 0\n                    ? serverPath + \"/api/get-speech/\" + this.state.wordInput\n                    : \"\"\n                }\n                type=\"audio/mpeg\"\n              />\n            </audio>\n          </div>\n        </Modal>\n\n        {/*<Pagination\n          items={\n            this.state.chaptersTexts[currentChapter - 1].length / this.page_size\n          }\n          activePage={this.state.currentPage}\n          maxButtons={7}\n          onSelect={e => {\n            console.log(\"select\", e);\n            this.select(e);\n          }}\n        />*/}\n\n        {\n          <Pagination\n            items={this.state.chaptersTexts.length}\n            activePage={currentChapter}\n            maxButtons={7}\n            onSelect={e => {\n              console.log(\"selectCh\", e);\n              this.selectChapter(e);\n            }}\n          />\n        }\n      </div>\n    );\n  }\n}\n","const localip1 = \"192.168.1.6\";\nconst localip2 = \"localhost\";\n\nconst server_path_localhost = \"http://localhost:3001\";\n//const server_path_localhost = \"http://\" + localip1 + \":8080\";\nconst heroku_path = \"https://english-book-reader.herokuapp.com\";\nconst gcp_path = \"http://englishreader.appspot.com\";\n\nexport const serverPath = heroku_path;\n\nexport default serverPath;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { serverPath } from \"../config.js\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Collection,\n  CollectionItem,\n  Card,\n  Col,\n  CardTitle\n} from \"react-materialize\";\n\nclass ListBook extends Component {\n  constructor() {\n    super();\n    this.state = {\n      bookList: [],\n      booksInfo: []\n    };\n    this.openBookList = this.openBookList.bind(this);\n\n    console.log(\"ListBook construct\");\n    //  this.openBookList();\n    this.openBooksInfo();\n  }\n  openBookList() {\n    var that = this;\n\n    axios.get(serverPath + \"/api/get-listBooks\").then(function(response) {\n      let resp = response.data;\n      console.log(\"ListBook resp\", resp);\n      that.setState({\n        bookList: resp.data\n      });\n      //  that.first();\n    });\n  }\n  openBooksInfo = () => {\n    var that = this;\n\n    axios.get(serverPath + \"/api/get-booksInfo\").then(function(response) {\n      let resp = JSON.parse(response.data.data);\n\n      console.log(\"ListBook resp\", resp);\n      that.setState({\n        booksInfo: resp\n      });\n      //  that.first();\n    });\n  };\n\n  renderItem2(item) {\n    //href={pathname}\n    const pathname = \"/book/\" + item;\n    return (\n      <CollectionItem key={item}>\n        <Link to={pathname}>{item}</Link>\n      </CollectionItem>\n    );\n  }\n\n  renderItem(item) {\n    return (\n      <p key={item}>\n        <Link\n          to={{\n            pathname: \"/book/\" + item\n            // search: item\n            // hash: \"#the-hash\",\n            // state: { fromDashboard: true }\n          }}\n        >\n          {item}\n        </Link>\n      </p>\n    );\n  }\n\n  renderCard = oneBookInfo => {\n    return (\n      <Card\n        header={\n          <CardTitle\n            image={serverPath + \"/images/\" + oneBookInfo.file}\n            waves=\"light\"\n          />\n        }\n        title={oneBookInfo.title}\n        reveal={<p>{oneBookInfo.description}</p>}\n      >\n        <p>autor: {oneBookInfo.author}</p>\n        <p>\n          <Link\n            to={{\n              pathname: \"/book/\" + oneBookInfo.file\n            }}\n          >\n            read book\n          </Link>\n        </p>\n      </Card>\n    );\n  };\n  renderCardRevial = oneBookInfo => {\n    return (\n      <Col m={7} s={12} key={oneBookInfo.title}>\n        <Card\n          title={oneBookInfo.title}\n          horizontal\n          header={\n            <CardTitle\n              reveal\n              image={serverPath + \"/images/\" + oneBookInfo.file}\n            />\n          }\n          actions={[\n            <Link\n              to={{\n                pathname: \"/book/\" + oneBookInfo.file\n              }}\n            >\n              read book\n            </Link>\n          ]}\n          reveal={<p>{oneBookInfo.description}</p>}\n        >\n          <p>autor: {oneBookInfo.author}</p>\n          <p>genre: {oneBookInfo.genre}</p>\n          <div className=\"activator\"> more info</div>\n          <span class=\"card-title activator grey-text text-darken-4\">\n            Card Title<i class=\"material-icons right\">more_vert</i>\n          </span>\n        </Card>\n      </Col>\n    );\n  };\n\n  renderCardHtml = oneBookInfo => {\n    return (\n      <div className=\"BookCard card col\" key={oneBookInfo.file}>\n        <div className=\"card-image waves-effect  waves-light\">\n          <img\n            className=\"activator\"\n            src={serverPath + \"/images/\" + oneBookInfo.file}\n            alt=\"\"\n          />\n        </div>\n        <div className=\" card-content \">\n          <span className=\"card-title activator grey-text text-darken-4\">\n            {oneBookInfo.title}\n            <i className=\"material-icons right\">more_vert</i>\n          </span>\n          <p>author: {oneBookInfo.author}</p>\n          <p>genre: {oneBookInfo.genre}</p>\n          <p>level: {oneBookInfo.level}</p>\n          <p>\n            <Link\n              to={{\n                pathname: \"/book/\" + oneBookInfo.file\n              }}\n            >\n              read book\n            </Link>\n          </p>\n        </div>\n        <div className=\"card-reveal\">\n          <span className=\"card-title grey-text text-darken-4\">\n            {oneBookInfo.title}\n            <i className=\"material-icons right\">close</i>\n          </span>\n          <p>{oneBookInfo.description}</p>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    console.log(\"ListBook render\");\n    /* return (\n      <Collection>{this.state.bookList.map(this.renderItem2)}</Collection>\n      //};\n    );*/\n    if (this.state.booksInfo.length > 0)\n      return (\n        <div className=\"row\">\n          {this.state.booksInfo.map(this.renderCardHtml)}\n        </div>\n      );\n    else return <div>Loading..</div>;\n  }\n}\n\nexport default ListBook;\n","import React, { Component } from \"react\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Book from \"./components/Book.js\";\nimport ListBook from \"./components/ListBook.js\";\nimport { Navbar, NavItem } from \"react-materialize\";\nvar localStorage = require(\"localStorage\");\n\n//const Book = ({ match }) => <p>{match.params.file}</p>;\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    let _fileName = localStorage.getItem(\"fileName\");\n    if (_fileName === null) _fileName = \"\";\n\n    let _chapter = localStorage.getItem(\"chapter\");\n    if (_chapter === null) _chapter = 1;\n    else _chapter = parseInt(_chapter);\n\n    console.log(\"loadLocalStorage\", _fileName, _chapter);\n    this.chapter = _chapter;\n    this.state = {\n      fileName: _fileName\n    };\n    console.log(\"App constructor\");\n\n    this.handleBookChanged = this.handleBookChanged.bind(this);\n    this.handleChapterChanged = this.handleChapterChanged.bind(this);\n    // this.loadLocalStorage = this.loadLocalStorage.bind(this);\n    //this.saveToLocalStorage = this.saveToLocalStorage.bind(this);\n    // this.loadLocalStorage();\n  }\n  componentDidMount() {\n    console.log(\"App componentDidMount\");\n    //  this.loadLocalStorage();\n  }\n  /* componentWillUnmount() {\n    this.saveStateToLocalStorage();\n  }*/\n\n  /*loadLocalStorage() {\n    let _fileName = localStorage.getItem(\"fileName\");\n    let _chapter = localStorage.getItem(\"chapter\");\n\n    console.log(\"loadLocalStorage\", _fileName, _chapter);\n\n    if (_chapter !== null) this.chapter = _chapter;\n    if (_fileName !== null) this.setState({ fileName: _fileName });\n\n    // parse the localStorage string and setState\n    /* try {\n      _fileName = JSON.parse(_fileName);\n      _chapter = JSON.parse(_chapter);\n      if (_chapter !== null) this.chapter = _chapter;\n      if (_fileName !== null) this.setState({ fileName: _fileName });\n    } catch (e) {\n      // handle empty string\n      console.log(\"local storahe\", e);\n      //this.setState({ fileName: _fileName });\n    }\n  }\n  */\n\n  /*saveToLocalStorage() {\n    localStorage.setItem(\"fileName\", this.state.fileName);\n    localStorage.setItem(\"chapter\", this.chapter);\n  }*/\n\n  handleChapterChanged(_chapter) {\n    this.chapter = _chapter;\n    localStorage.setItem(\"chapter\", this.chapter);\n  }\n\n  handleBookChanged(_fileName) {\n    localStorage.setItem(\"fileName\", _fileName);\n    console.log(\" localStorage.setItem(fileName\", _fileName);\n\n    if (this.state.fileName !== _fileName) {\n      this.setState({ fileName: _fileName });\n      this.chapter = 1;\n      localStorage.setItem(\"chapter\", 1);\n    }\n  }\n\n  render() {\n    console.log(\"App render\");\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <div>\n          <Navbar left>\n            <NavItem>\n              <Link to=\"/\">Books</Link>\n            </NavItem>\n            <NavItem>\n              <Link\n                to={{\n                  pathname: \"/book/\" + this.state.fileName\n                  // search: item\n                  // hash: \"#the-hash\",\n                  // state: { fromDashboard: true }\n                }}\n              >\n                {this.state.fileName}\n              </Link>\n            </NavItem>\n          </Navbar>\n\n          <Route\n            exact\n            path=\"/\"\n            render={props => (\n              <ListBook\n                {...props}\n                onHandleBookChanged={this.handleBookChanged}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/book/:file\"\n            render={props => (\n              <Book\n                {...props}\n                onCurrentChapterChanged={this.handleChapterChanged}\n                onHandleBookChanged={this.handleBookChanged}\n                currentChapter={this.chapter}\n              />\n            )}\n          />\n          {/* <Route exact path=\"/book/:file\" component={Book} />*/}\n          <Route path=\"/topics\" />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}